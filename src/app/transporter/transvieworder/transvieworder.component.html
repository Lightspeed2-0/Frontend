<div class="request">
  <div *ngIf="loaded">
    <mat-progress-spinner
      mode="indeterminate"
      diameter="45"
    ></mat-progress-spinner>
  </div>
  <div *ngIf="isEmpty">No orders available...</div>
  <div class="request-wrap" *ngFor="let order of Orders; let i = index">
    <mat-accordion>
      <mat-expansion-panel
        (opened)="panelOpenState = true"
        (closed)="panelOpenState = false"
      >
        <mat-expansion-panel-header>
          <mat-panel-title>Order</mat-panel-title>
          <mat-panel-description>{{
            order.Indents[0].OrderDate | tshortpipe: 10
          }}</mat-panel-description>
        </mat-expansion-panel-header>
        <div class="request-details">
          <div class="row">
            <div class="title">OrderId</div>
            <div class="content">{{ order._id | tshortpipe: 20 }}</div>
          </div>
          <div class="row">
            <div class="title">Source</div>
            <div class="content">
              {{ order.Indents[0].Source["Address"] }}
              {{ order.Indents[0].Source["Pincode"] }}
            </div>
          </div>
          <div class="row">
            <div class="title">Destination</div>
            <div class="content">
              {{ order.Indents[0].Destination.Address }}
              {{ order.Indents[0].Destination.Pincode }}
            </div>
          </div>
          <div class="row">
            <div class="title">Delivery Date</div>
            <div class="content">
              {{ order.Indents[0].OrderDate | tshortpipe: 10 }}
            </div>
          </div>
          <div class="row">
            <div class="title">Weight</div>
            <div class="content">{{ order.Indents[0].Weight }}</div>
          </div>
          <div class="row">
            <div class="title">Volume</div>
            <div class="content">{{ order.Indents[0].Volume }}</div>
          </div>
          <div class="row">
            <div class="title">IsLTL</div>
            <div class="content">{{ order.Indents[0].IsLTL }}</div>
          </div>
          <div class="row">
            <div class="title">Driver</div>
            <div class="content">{{ order.Driver.Username }}</div>
          </div>
          <div class="row">
            <div class="title">Consignee Profile</div>
            <a
              href="https://lightspeed2021.herokuapp.com/Consignee/{{
                order.Indents[0].Consignee.Username
              }}/Profile/{{ order.Indents[0].Consignee._id }}"
              target="_blank"
              >{{ order.Indents[0].Consignee.Username }}</a
            >
          </div>
          <div class="row" *ngIf="!accept[i]">
            <button (click)="onDecline(order._id, i)">Decline</button>
          </div>
        </div>
      </mat-expansion-panel>
    </mat-accordion>
  </div>
</div>
